---
type: note
tags:
- '#ai/ref'
---
> [!info] 必要なセクションを選択して使用してください！

# 📜 文脈・背景

添付ファイルはオブジェクトストレージ(S3)に保存するが、以下の問題がある。
`uuid-現場写真.jpg `
- ファイル名から業務内容が推測可能
	- 業務情報の漏洩
- 日本語文字のエンコーディング問題
	- 文字エンコーディングによる予期しない動作
- ファイル名の長さ制限
- パストラバーサル攻撃の可能性

refs:
- s3 quota
```cardlink
url: https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/object-keys.html
title: "Naming Amazon S3 objects - Amazon Simple Storage Service"
description: "Learn how to use object keys to name Amazon S3 objects. Learn about valid Amazon S3 object key names."
host: docs.aws.amazon.com
favicon: https://docs.aws.amazon.com/assets/images/favicon.ico
```


# 🎨 対応案

## UUID+拡張子による命名

**利点:**
- ファイル内容が推測不可能
- 文字エンコーディング問題の回避
- 確実な一意性
- パス長の短縮

**デメリット:**
- S3コンソールでの視認性低下

# 🚀 決定

オブジェクトストレージへの保存はUUID+拡張子で行う。
# 🪞 結果・影響

- 日報のみに適用するが、それ以外の添付ファイルの設計も再考する必要性あり
# 🍜 今後の検討事項



