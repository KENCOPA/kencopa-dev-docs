---
type: note
moc: "[[🏷️概念設計書]]"
---


# 工種体系マスタ機能

## 全体概要
### 概要
工種と細別の階層構造を持つマスタデータを管理し、細別ごとの歩掛データを設定・管理する機能群。ユーザーは自由に工種や細別を追加・編集でき、作業に必要な時間や労力を表す歩掛を効率的に管理できる。

### ビジネス目標
工種体系の標準化と歩掛データの一元管理により、工程表作成時の作業効率を向上させ、正確な工数見積もりを実現する。実績データの蓄積により、より精度の高い歩掛設定を支援する。

### 全体受け入れ条件
- ユーザーは工種・細別の階層構造でマスタデータを管理できる
- ユーザーは簡易歩掛と詳細歩掛の両方を設定・管理できる
- ユーザーは実績データを参考に歩掛を設定できる
- ユーザーは不要なデータをゴミ箱に移動し、必要に応じて復元できる

---

## 工種・細別マスタ管理機能

### ステータス
- [X] 検討中（PdMが要件を整理している段階）
- [X] 概念設計中（PdMが概念設計を行っている段階）
- [X] 概念設計確定（PdMが概念設計を固め、エンジニアに渡せる状態）
- [X] 実装中（Engが開発中）
- [X] 実装完了（機能がリリース済み）
- [ ] 不採用（検討の結果ボツになったもの）

### 機能概要
工種と細別の階層構造を持つマスタデータの作成、閲覧、編集、削除を行う基本機能。

### ビジネス目標
工種体系の標準化により、工程表作成時の作業効率を向上させ、一貫性のある工種分類を実現する。

### 機能要件（ユーザーストーリー形式）
#### 工種マスタ管理
- 階層で工種マスタが表示できる
- 工種マスタを作成できる
- 工種マスタを閲覧できる
- 工種マスタを編集できる
- 工種マスタをゴミ箱に移動できる

#### 細別マスタ管理
- 細別マスタを作成できる
- 細別マスタを閲覧できる
- 細別マスタを編集できる
- 細別マスタをゴミ箱に移動できる

### 備考
- 工種はある部位を完成させる一連の作業をまとめた総称
- 細別は工種の子となるデータで、別の工種マスタにも同様の名前の細別マスタが存在する可能性がある
- ゴミ箱に移動されたデータは新しく利用できないが、元に戻すことができる

---

## 歩掛データ設定機能

### ステータス
- [X] 検討中（PdMが要件を整理している段階）
- [X] 概念設計中（PdMが概念設計を行っている段階）
- [X] 概念設計確定（PdMが概念設計を固め、エンジニアに渡せる状態）
- [X] 実装中（Engが開発中）
- [ ] 実装完了（機能がリリース済み）
- [ ] 不採用（検討の結果ボツになったもの）

### 機能概要
細別ごとに歩掛（作業に必要な時間や労力を表す基準値）を設定・管理する機能。
固定歩掛と条件付き歩掛を分けて管理し、条件に応じた柔軟な歩掛設定を可能にする。

### ビジネス目標
歩掛データの一元管理により、正確な工数見積もりを実現し、工程表作成時の作業効率を向上させる。

### 機能要件
#### 歩掛単位設定
- 細別に歩掛の数値と単位を設定できる
- 単位は建設業で使われる一般的なものを調べて用意する

#### 固定歩掛管理
- 細別に固定歩掛を設定できる
- 歩掛項目は以下のものを選択できる
  - 労務
  - 機械
  - 資材
- 項目ごとに数値を設定できる
- 数値に対して単位を設定できる
  - 項目の種類で単位が変わる
    - 労務は人日、人時
    - 機械は台日、台時
    - 資材はm2、m3、kg、t、本、個、台、式、組など
- 現在はそれぞれ一つしか登録できない
- もっと多くの項目が必要になったら項目を追加できるようにする
- 初期は労務のみ


#### 条件付き歩掛管理
- 細別に条件付き歩掛の条件を設定できる
- 条件付き歩掛の条件のプリセットを設定できる
- 条件付き歩掛の条件のプリセットを利用できる
- 条件付き歩掛の条件を組み合わせて設定できる

### 備考
**歩掛の種類：**
- 固定歩掛：素早く参照できる標準歩掛
- 条件付き歩掛：条件に応じた柔軟な歩掛設定

**条件タイプ：**
- 選択式：材料種別、施工方式、仕上げ等
- 複数選択：同時に複数属性が該当する場合
- 数値：単一の閾値判定
- 真偽値：屋外か否か等の二値
- 文字列：図番プレフィックス等
- 範囲：長さ・面積・体積・重量等

![alt text](</40.Kunai/image/スクリーンショット 2025-08-21 115837.png>)
![alt text](</40.Kunai/image/スクリーンショット 2025-08-21 120052.png>)
![alt text](</40.Kunai/image/スクリーンショット 2025-08-21 120126.png>)
![alt text](</40.Kunai/image/スクリーンショット 2025-08-21 120159.png>)

---

## 実績歩掛集計機能

### ステータス
- [X] 検討中（PdMが要件を整理している段階）
- [ ] 概念設計中（PdMが概念設計を行っている段階）
- [ ] 概念設計確定（PdMが概念設計を固め、エンジニアに渡せる状態）
- [ ] 実装中（Engが開発中）
- [ ] 実装完了（機能がリリース済み）
- [ ] 不採用（検討の結果ボツになったもの）

### 機能概要
実績データから歩掛を集計し、歩掛設定時の参考情報として提供する機能。

### ビジネス目標
実績データの蓄積により、より精度の高い歩掛設定を支援し、見積もりの精度向上を実現する。

### 機能要件
#### 実績歩掛集計・表示
- 実績歩掛を集計して表示できる
- 実績歩掛を歩掛設定時に参考として表示できる

### 備考
実績データを活用することで、理論値だけでなく実際の作業実績に基づいた歩掛設定が可能になります。
