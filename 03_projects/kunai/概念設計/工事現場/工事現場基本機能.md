# 工事現場基本機能

## 全体概要

### 概要

テナント内の案件単位である工事現場の作成、一覧、選択（入場）、編集、削除、および稼働スケジュール設定を行う機能群。
工事現場は「未着手」「進行中」「完了」のステータスを持ち、各現場ごとに休日と稼働時間を設定できる。

### ビジネス目標

* 工事現場の一元管理により、進捗の可視化と円滑な現場運営を実現する
* 稼働スケジュールの適切な設定により、工程表作成の精度と実運用の整合を高める

### 全体受け入れ条件

* ユーザーは工事現場のライフサイクル（作成〜削除）を管理できる
* ユーザーは工事現場のステータスを適切に管理できる
* ユーザーは各工事現場ごとに稼働スケジュールを設定できる
* ユーザーは工事現場一覧から効率的に目的の現場へアクセスできる

---

# 工事現場一覧機能

## ステータス

* [x] 検討中
* [x] 概念設計中
* [ ] 概念設計確定
* [ ] 実装中
* [ ] 実装完了
* [ ] 不採用

## 機能概要

テナント内の工事現場を一覧表示し、検索・絞り込み・並び替えを行い、選択して工事現場内へ入るための機能。

## ビジネス目標

* 現場横断の視認性を高め、目的の現場へ最短でアクセスできるようにする
* ステータスや更新日の基準で一覧性を向上し、運用効率を上げる

## 機能要件（ユーザーストーリー形式）

* システム管理者・メンバーは、テナント内の全工事現場の一覧を閲覧できる
* ゲストは、アクセス権のある工事現場のみ一覧表示される
* 一覧は検索・絞り込み（ステータス、更新日、担当者など）・並び替えに対応する
* 一覧から工事現場を選択して入場できる
* 一覧上でステータス（未着手/進行中/完了）が判別できる

## 備考

* 1テナントあたり作成可能件数は上限250（将来的に拡張予定）

---

# 工事現場作成機能

## ステータス

* [x] 検討中
* [x] 概念設計中
* [ ] 概念設計確定
* [ ] 実装中
* [ ] 実装完了
* [ ] 不採用

## 機能概要

新規の工事現場を作成し、基本情報や初期ステータス、初期スケジュール設定を登録する機能。作成後は一覧に反映され、入場可能になる。

## ビジネス目標

* 作成手順を簡潔にし、現場立ち上げのリードタイムを短縮する
* 初期設定の漏れを防ぎ、運用開始後の手戻りを減らす

## 機能要件（ユーザーストーリー形式）

* システム管理者・メンバーは工事現場を作成できる
* 作成時に以下の情報を登録できる

  * 現場名、概要、所在地（任意）
  * ステータス（初期値は未着手）
  * 関連担当者（任意）
  * 初期の休日パターン・稼働時間（任意、後から変更可）
* システム管理者・メンバーは工事現場情報を編集・削除できる
* ゲストは作成・編集・削除はできない（閲覧のみ）

## 備考

* 削除は論理削除（将来的な物理削除は別途ポリシーで定義）

---

# 工事現場稼働スケジュール設定機能

## ステータス

* [x] 検討中
* [x] 概念設計中
* [ ] 概念設計確定
* [ ] 実装中
* [ ] 実装完了
* [ ] 不採用

## 機能概要

各工事現場ごとに休日と稼働時間を設定する機能。毎週の休日パターン、特定日の休日、1日あたりの稼働時間のデフォルトを管理する。

## ビジネス目標

* 設定と実作業の整合を取り、工程表の計算や進捗予測の精度を高める
* パターン化と特例設定を両立し、現場運用の柔軟性を確保する

## 機能要件（ユーザーストーリー形式）

* 休日設定（パターン）

  * 曜日単位で毎週の休日パターンを登録・編集・削除できる（例：土日休み）
* 休日設定（特定日）

  * カレンダーから特定日を休日として追加・編集・削除できる（振替や臨時休業に対応）
* 稼働時間設定

  * 1日あたりの稼働時間のデフォルト値を設定・変更できる（例：8時間/日）
* 反映

  * 設定は工程表等のスケジューリング機能で参照される

## 備考

* 将来的に祝日カレンダーのインポートに対応予定（現段階では未実装）
* 休日・稼働時間設定は現場単位で保持し、他現場には影響しない

