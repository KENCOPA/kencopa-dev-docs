---
type: note
tags:
- '#ai/ref'
---
> [!info] 必要なセクションを選択して使用してください！

# 🎯 目的・対象範囲

- **目的**
    - 将来的に複数のサービスをcommon-infraのVPCで管理することを踏まえ、どのようにsubnetを分割するか方針を定めておく
- **対象範囲**  
    - `azuchi-common-infra`のVPC

# 🏗 システム構成概要

- メインのVPCのCIDRは`192.168.0.0/16`
- 10のサービスを1つのVPCで管理する
	- 1サービスあたり6サブネット（public * 3AZ + private * 3AZ）
	- 合計60サブネット

# 🛠 基本設計

- /16を/24に切り出す
	- 確保できるSubnet数は256
	- 1Subnetあたりのアドレス数は256
- サブネットの割り当てイメージは以下
[[🗒️ subnetの割り当てイメージ]]
 ![[Pasted image 20250505135441.png]]
- 各サービスのインデックスをi（i=0~9）として
	- Public Subnetのインデックス j = i * 6 + 0, 1, 2
	- Public Subnetのインデックス k = i * 6 + 3, 4, 5